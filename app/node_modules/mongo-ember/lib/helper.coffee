helper = module.exports =
	wrap: (input, wrapper) ->
		output = {}
		output[wrapper] = input
		return output

	unwrap: (input, ids) ->
		key = Object.keys(input)[0]
		output = input[key]
		#remove null keys for the use of mongoose
		for key in Object.keys output
			if output[key] == null
				delete output[key]

		ids = ids || []
		for id in ids
			output[id] = mongoose.Types.ObjectId output[id]
		return output